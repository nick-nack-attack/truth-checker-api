function cov_1ud6gw1bam(){var path="/Users/nickfarni/WebstormProjects/truth-checker-api/src/database/connect.js";var hash="1d7cbd36c3472ef64e46ed116b255a1771e521aa";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/nickfarni/WebstormProjects/truth-checker-api/src/database/connect.js",statementMap:{"0":{start:{line:4,column:58},end:{line:4,column:78}},"1":{start:{line:5,column:58},end:{line:5,column:73}},"2":{start:{line:8,column:11},end:{line:11,column:2}},"3":{start:{line:13,column:15},end:{line:16,column:2}},"4":{start:{line:19,column:18},end:{line:19,column:23}},"5":{start:{line:21,column:0},end:{line:21,column:54}},"6":{start:{line:21,column:32},end:{line:21,column:50}},"7":{start:{line:23,column:0},end:{line:23,column:44}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:21,column:19},end:{line:21,column:20}},loc:{start:{line:21,column:30},end:{line:21,column:52}},line:21}},branchMap:{"0":{loc:{start:{line:10,column:16},end:{line:10,column:70}},type:"cond-expr",locations:[{start:{line:10,column:38},end:{line:10,column:55}},{start:{line:10,column:58},end:{line:10,column:70}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1d7cbd36c3472ef64e46ed116b255a1771e521aa"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1ud6gw1bam=function(){return actualCoverage;};}return actualCoverage;}cov_1ud6gw1bam();// handles connecting to the database
// utilities
const{NODE_ENV,DATABASE_URL,TEST_DATABASE_URL}=(cov_1ud6gw1bam().s[0]++,require('../config'));const knex=(cov_1ud6gw1bam().s[1]++,require('knex'));// database
const db=(cov_1ud6gw1bam().s[2]++,knex({client:'pg',connection:NODE_ENV==='test'?(cov_1ud6gw1bam().b[0][0]++,TEST_DATABASE_URL):(cov_1ud6gw1bam().b[0][1]++,DATABASE_URL)}));const testDb=(cov_1ud6gw1bam().s[3]++,knex({client:'pg',connection:TEST_DATABASE_URL}));// boolean for if server is connected or not
let isConnected=(cov_1ud6gw1bam().s[4]++,false);cov_1ud6gw1bam().s[5]++;db.on('connected',function(){cov_1ud6gw1bam().f[0]++;cov_1ud6gw1bam().s[6]++;isConnected=true;});cov_1ud6gw1bam().s[7]++;module.exports={db,testDb,isConnected};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbm5lY3QuanMiXSwibmFtZXMiOlsiTk9ERV9FTlYiLCJEQVRBQkFTRV9VUkwiLCJURVNUX0RBVEFCQVNFX1VSTCIsInJlcXVpcmUiLCJrbmV4IiwiZGIiLCJjbGllbnQiLCJjb25uZWN0aW9uIiwidGVzdERiIiwiaXNDb25uZWN0ZWQiLCJvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJzOUNBZVk7MkZBZlo7QUFFQTtBQUNBLEtBQU0sQ0FBRUEsUUFBRixDQUFZQyxZQUFaLENBQTBCQyxpQkFBMUIsMkJBQW9EQyxPQUFPLENBQUMsV0FBRCxDQUEzRCxDQUFOLENBQ0EsS0FBTUMsQ0FBQUEsSUFBSSwwQkFBZ0RELE9BQU8sQ0FBQyxNQUFELENBQXZELENBQVYsQ0FFQTtBQUNBLEtBQU1FLENBQUFBLEVBQUUsMEJBQUdELElBQUksQ0FBQyxDQUNaRSxNQUFNLENBQUUsSUFESSxDQUVaQyxVQUFVLENBQUVQLFFBQVEsR0FBSyxNQUFiLDZCQUFzQkUsaUJBQXRCLDhCQUEwQ0QsWUFBMUMsQ0FGQSxDQUFELENBQVAsQ0FBUixDQUtBLEtBQU1PLENBQUFBLE1BQU0sMEJBQUdKLElBQUksQ0FBQyxDQUNoQkUsTUFBTSxDQUFFLElBRFEsQ0FFaEJDLFVBQVUsQ0FBRUwsaUJBRkksQ0FBRCxDQUFQLENBQVosQ0FLQTtBQUNBLEdBQUlPLENBQUFBLFdBQVcsMEJBQUcsS0FBSCxDQUFmLEMsd0JBRUFKLEVBQUUsQ0FBQ0ssRUFBSCxDQUFNLFdBQU4sQ0FBbUIsVUFBVyxpREFBRUQsV0FBVyxDQUFHLElBQWQsQ0FBb0IsQ0FBcEQsRSx3QkFFQUUsTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQUVQLEVBQUYsQ0FBTUcsTUFBTixDQUFjQyxXQUFkLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaGFuZGxlcyBjb25uZWN0aW5nIHRvIHRoZSBkYXRhYmFzZVxuXG4vLyB1dGlsaXRpZXNcbmNvbnN0IHsgTk9ERV9FTlYsIERBVEFCQVNFX1VSTCwgVEVTVF9EQVRBQkFTRV9VUkwgfSAgICAgPSByZXF1aXJlKCcuLi9jb25maWcnKTtcbmNvbnN0IGtuZXggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlKCdrbmV4Jyk7XG5cbi8vIGRhdGFiYXNlXG5jb25zdCBkYiA9IGtuZXgoe1xuICAgIGNsaWVudDogJ3BnJyxcbiAgICBjb25uZWN0aW9uOiBOT0RFX0VOViA9PT0gJ3Rlc3QnID8gVEVTVF9EQVRBQkFTRV9VUkwgOiBEQVRBQkFTRV9VUkwsXG59KTtcblxuY29uc3QgdGVzdERiID0ga25leCh7XG4gICAgY2xpZW50OiAncGcnLFxuICAgIGNvbm5lY3Rpb246IFRFU1RfREFUQUJBU0VfVVJMLFxufSk7XG5cbi8vIGJvb2xlYW4gZm9yIGlmIHNlcnZlciBpcyBjb25uZWN0ZWQgb3Igbm90XG5sZXQgaXNDb25uZWN0ZWQgPSBmYWxzZTtcblxuZGIub24oJ2Nvbm5lY3RlZCcsIGZ1bmN0aW9uKCkgeyBpc0Nvbm5lY3RlZCA9IHRydWUgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0geyBkYiwgdGVzdERiLCBpc0Nvbm5lY3RlZCB9XG5cbiJdfQ==
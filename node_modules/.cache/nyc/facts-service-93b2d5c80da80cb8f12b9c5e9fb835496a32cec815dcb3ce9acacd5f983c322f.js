function cov_2ijhru3tas(){var path="/Users/nickfarni/WebstormProjects/truth-checker-api/src/facts/facts-service.js";var hash="5fae4a4b8ee67da022cb2699ad6d2dfa1fe27667";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/nickfarni/WebstormProjects/truth-checker-api/src/facts/facts-service.js",statementMap:{"0":{start:{line:1,column:22},end:{line:1,column:36}},"1":{start:{line:2,column:22},end:{line:2,column:41}},"2":{start:{line:3,column:22},end:{line:3,column:52}},"3":{start:{line:5,column:21},end:{line:62,column:1}},"4":{start:{line:8,column:8},end:{line:11,column:21}},"5":{start:{line:15,column:8},end:{line:17,column:24}},"6":{start:{line:21,column:8},end:{line:25,column:20}},"7":{start:{line:29,column:8},end:{line:33,column:51}},"8":{start:{line:33,column:38},end:{line:33,column:50}},"9":{start:{line:37,column:8},end:{line:40,column:27}},"10":{start:{line:44,column:26},end:{line:44,column:106}},"11":{start:{line:45,column:28},end:{line:45,column:114}},"12":{start:{line:46,column:25},end:{line:46,column:103}},"13":{start:{line:47,column:24},end:{line:47,column:102}},"14":{start:{line:48,column:25},end:{line:48,column:112}},"15":{start:{line:49,column:8},end:{line:59,column:9}},"16":{start:{line:64,column:0},end:{line:64,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:16},end:{line:7,column:17}},loc:{start:{line:7,column:29},end:{line:12,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:17},end:{line:14,column:18}},loc:{start:{line:14,column:23},end:{line:18,column:5}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:30},end:{line:26,column:5}},line:20},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:16},end:{line:28,column:17}},loc:{start:{line:28,column:26},end:{line:34,column:5}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:33,column:18},end:{line:33,column:19}},loc:{start:{line:33,column:38},end:{line:33,column:50}},line:33},"5":{name:"(anonymous_5)",decl:{start:{line:36,column:16},end:{line:36,column:17}},loc:{start:{line:36,column:37},end:{line:41,column:5}},line:36},"6":{name:"(anonymous_6)",decl:{start:{line:43,column:19},end:{line:43,column:20}},loc:{start:{line:43,column:29},end:{line:60,column:5}},line:43}},branchMap:{"0":{loc:{start:{line:44,column:26},end:{line:44,column:106}},type:"cond-expr",locations:[{start:{line:44,column:48},end:{line:44,column:99}},{start:{line:44,column:102},end:{line:44,column:106}}],line:44},"1":{loc:{start:{line:45,column:28},end:{line:45,column:114}},type:"cond-expr",locations:[{start:{line:45,column:53},end:{line:45,column:107}},{start:{line:45,column:110},end:{line:45,column:114}}],line:45},"2":{loc:{start:{line:46,column:25},end:{line:46,column:103}},type:"cond-expr",locations:[{start:{line:46,column:46},end:{line:46,column:96}},{start:{line:46,column:99},end:{line:46,column:103}}],line:46},"3":{loc:{start:{line:47,column:24},end:{line:47,column:102}},type:"cond-expr",locations:[{start:{line:47,column:45},end:{line:47,column:95}},{start:{line:47,column:98},end:{line:47,column:102}}],line:47},"4":{loc:{start:{line:48,column:25},end:{line:48,column:112}},type:"cond-expr",locations:[{start:{line:48,column:35},end:{line:48,column:45}},{start:{line:48,column:48},end:{line:48,column:112}}],line:48},"5":{loc:{start:{line:48,column:48},end:{line:48,column:112}},type:"cond-expr",locations:[{start:{line:48,column:59},end:{line:48,column:69}},{start:{line:48,column:72},end:{line:48,column:112}}],line:48},"6":{loc:{start:{line:48,column:72},end:{line:48,column:112}},type:"cond-expr",locations:[{start:{line:48,column:86},end:{line:48,column:100}},{start:{line:48,column:103},end:{line:48,column:112}}],line:48}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5fae4a4b8ee67da022cb2699ad6d2dfa1fe27667"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2ijhru3tas=function(){return actualCoverage;};}return actualCoverage;}cov_2ijhru3tas();const xss=(cov_2ijhru3tas().s[0]++,require('xss'));const{format}=(cov_2ijhru3tas().s[1]++,require('date-fns'));const{db}=(cov_2ijhru3tas().s[2]++,require('../database/connect'));const FactsService=(cov_2ijhru3tas().s[3]++,{deleteFact:fact_id=>{cov_2ijhru3tas().f[0]++;cov_2ijhru3tas().s[4]++;return db.from('facts').where('fact_id',fact_id).delete();},getAllFacts:()=>{cov_2ijhru3tas().f[1]++;cov_2ijhru3tas().s[5]++;return db.from('facts').select('*');},getFactById:fact_id=>{cov_2ijhru3tas().f[2]++;cov_2ijhru3tas().s[6]++;return db.from('facts').select('*').where('fact_id',fact_id).first();},insertFact:fact=>{cov_2ijhru3tas().f[3]++;cov_2ijhru3tas().s[7]++;return db.insert(fact).into('facts').returning('*').then(([returnedFact])=>{cov_2ijhru3tas().f[4]++;cov_2ijhru3tas().s[8]++;return returnedFact;});},updateFact:(fact_id,fields)=>{cov_2ijhru3tas().f[5]++;cov_2ijhru3tas().s[9]++;return db.from('facts').where('fact_id',fact_id).update(fields);},serializeFact:fact=>{cov_2ijhru3tas().f[6]++;const submitted=(cov_2ijhru3tas().s[10]++,fact.date_submitted?(cov_2ijhru3tas().b[0][0]++,format(new Date(fact.date_submitted),'yyyy-MM-dd')):(cov_2ijhru3tas().b[0][1]++,null));const underReview=(cov_2ijhru3tas().s[11]++,fact.date_under_review?(cov_2ijhru3tas().b[1][0]++,format(new Date(fact.date_under_review),'yyyy-MM-dd')):(cov_2ijhru3tas().b[1][1]++,null));const approved=(cov_2ijhru3tas().s[12]++,fact.date_approved?(cov_2ijhru3tas().b[2][0]++,format(new Date(fact.date_approved),'yyyy-MM-dd')):(cov_2ijhru3tas().b[2][1]++,null));const notTrue=(cov_2ijhru3tas().s[13]++,fact.date_not_true?(cov_2ijhru3tas().b[3][0]++,format(new Date(fact.date_not_true),'yyyy-MM-dd')):(cov_2ijhru3tas().b[3][1]++,null));let factStatus=(cov_2ijhru3tas().s[14]++,notTrue?(cov_2ijhru3tas().b[4][0]++,'Not True'):(cov_2ijhru3tas().b[4][1]++,approved?(cov_2ijhru3tas().b[5][0]++,'Approved'):(cov_2ijhru3tas().b[5][1]++,underReview?(cov_2ijhru3tas().b[6][0]++,'Under Review'):(cov_2ijhru3tas().b[6][1]++,'Pending'))));cov_2ijhru3tas().s[15]++;return{fact_id:fact.fact_id,title:xss(fact.title),user_id:fact.user_id,status:factStatus,serial:fact.serial,date_submitted:submitted,date_under_review:underReview,date_approved:approved,date_not_true:notTrue};}});cov_2ijhru3tas().s[16]++;module.exports=FactsService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhY3RzLXNlcnZpY2UuanMiXSwibmFtZXMiOlsieHNzIiwicmVxdWlyZSIsImZvcm1hdCIsImRiIiwiRmFjdHNTZXJ2aWNlIiwiZGVsZXRlRmFjdCIsImZhY3RfaWQiLCJmcm9tIiwid2hlcmUiLCJkZWxldGUiLCJnZXRBbGxGYWN0cyIsInNlbGVjdCIsImdldEZhY3RCeUlkIiwiZmlyc3QiLCJpbnNlcnRGYWN0IiwiZmFjdCIsImluc2VydCIsImludG8iLCJyZXR1cm5pbmciLCJ0aGVuIiwicmV0dXJuZWRGYWN0IiwidXBkYXRlRmFjdCIsImZpZWxkcyIsInVwZGF0ZSIsInNlcmlhbGl6ZUZhY3QiLCJzdWJtaXR0ZWQiLCJkYXRlX3N1Ym1pdHRlZCIsIkRhdGUiLCJ1bmRlclJldmlldyIsImRhdGVfdW5kZXJfcmV2aWV3IiwiYXBwcm92ZWQiLCJkYXRlX2FwcHJvdmVkIiwibm90VHJ1ZSIsImRhdGVfbm90X3RydWUiLCJmYWN0U3RhdHVzIiwidGl0bGUiLCJ1c2VyX2lkIiwic3RhdHVzIiwic2VyaWFsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IndySUFlWTsyRkFmWixLQUFNQSxDQUFBQSxHQUFHLDBCQUFhQyxPQUFPLENBQUMsS0FBRCxDQUFwQixDQUFULENBQ0EsS0FBTSxDQUFFQyxNQUFGLDJCQUFnQkQsT0FBTyxDQUFDLFVBQUQsQ0FBdkIsQ0FBTixDQUNBLEtBQU0sQ0FBRUUsRUFBRiwyQkFBZ0JGLE9BQU8sQ0FBQyxxQkFBRCxDQUF2QixDQUFOLENBRUEsS0FBTUcsQ0FBQUEsWUFBWSwwQkFBRyxDQUVqQkMsVUFBVSxDQUFHQyxPQUFELEVBQWEsaURBQ3JCLE1BQU9ILENBQUFBLEVBQUUsQ0FDSkksSUFERSxDQUNHLE9BREgsRUFFRkMsS0FGRSxDQUVJLFNBRkosQ0FFZUYsT0FGZixFQUdGRyxNQUhFLEVBQVAsQ0FJSCxDQVBnQixDQVNqQkMsV0FBVyxDQUFFLElBQU0saURBQ2YsTUFBT1AsQ0FBQUEsRUFBRSxDQUNKSSxJQURFLENBQ0csT0FESCxFQUVGSSxNQUZFLENBRUssR0FGTCxDQUFQLENBR0gsQ0FiZ0IsQ0FlakJDLFdBQVcsQ0FBR04sT0FBRCxFQUFhLGlEQUN0QixNQUFPSCxDQUFBQSxFQUFFLENBQ0pJLElBREUsQ0FDRyxPQURILEVBRUZJLE1BRkUsQ0FFSyxHQUZMLEVBR0ZILEtBSEUsQ0FHSSxTQUhKLENBR2VGLE9BSGYsRUFJRk8sS0FKRSxFQUFQLENBS0gsQ0FyQmdCLENBdUJqQkMsVUFBVSxDQUFHQyxJQUFELEVBQVUsaURBQ2xCLE1BQU9aLENBQUFBLEVBQUUsQ0FDSmEsTUFERSxDQUNLRCxJQURMLEVBRUZFLElBRkUsQ0FFRyxPQUZILEVBR0ZDLFNBSEUsQ0FHUSxHQUhSLEVBSUZDLElBSkUsQ0FJRyxDQUFDLENBQUNDLFlBQUQsQ0FBRCxHQUFvQkEsdURBQUFBLENBQUFBLFlBQVksRUFKbkMsQ0FBUCxDQUtILENBN0JnQixDQStCakJDLFVBQVUsQ0FBRSxDQUFDZixPQUFELENBQVVnQixNQUFWLEdBQXFCLGlEQUM3QixNQUFPbkIsQ0FBQUEsRUFBRSxDQUNKSSxJQURFLENBQ0csT0FESCxFQUVGQyxLQUZFLENBRUksU0FGSixDQUVlRixPQUZmLEVBR0ZpQixNQUhFLENBR0tELE1BSEwsQ0FBUCxDQUlILENBcENnQixDQXNDakJFLGFBQWEsQ0FBR1QsSUFBRCxFQUFVLHlCQUNyQixLQUFNVSxDQUFBQSxTQUFTLDJCQUFHVixJQUFJLENBQUNXLGNBQUwsNkJBQXNCeEIsTUFBTSxDQUFDLEdBQUl5QixDQUFBQSxJQUFKLENBQVNaLElBQUksQ0FBQ1csY0FBZCxDQUFELENBQWdDLFlBQWhDLENBQTVCLDhCQUE0RSxJQUE1RSxDQUFILENBQWYsQ0FDQSxLQUFNRSxDQUFBQSxXQUFXLDJCQUFHYixJQUFJLENBQUNjLGlCQUFMLDZCQUF5QjNCLE1BQU0sQ0FBQyxHQUFJeUIsQ0FBQUEsSUFBSixDQUFTWixJQUFJLENBQUNjLGlCQUFkLENBQUQsQ0FBbUMsWUFBbkMsQ0FBL0IsOEJBQWtGLElBQWxGLENBQUgsQ0FBakIsQ0FDQSxLQUFNQyxDQUFBQSxRQUFRLDJCQUFHZixJQUFJLENBQUNnQixhQUFMLDZCQUFxQjdCLE1BQU0sQ0FBQyxHQUFJeUIsQ0FBQUEsSUFBSixDQUFTWixJQUFJLENBQUNnQixhQUFkLENBQUQsQ0FBK0IsWUFBL0IsQ0FBM0IsOEJBQTBFLElBQTFFLENBQUgsQ0FBZCxDQUNBLEtBQU1DLENBQUFBLE9BQU8sMkJBQUdqQixJQUFJLENBQUNrQixhQUFMLDZCQUFxQi9CLE1BQU0sQ0FBQyxHQUFJeUIsQ0FBQUEsSUFBSixDQUFTWixJQUFJLENBQUNrQixhQUFkLENBQUQsQ0FBK0IsWUFBL0IsQ0FBM0IsOEJBQTBFLElBQTFFLENBQUgsQ0FBYixDQUNBLEdBQUlDLENBQUFBLFVBQVUsMkJBQUdGLE9BQU8sNkJBQUcsVUFBSCw4QkFBZ0JGLFFBQVEsNkJBQUcsVUFBSCw4QkFBZ0JGLFdBQVcsNkJBQUcsY0FBSCw4QkFBb0IsU0FBcEIsQ0FBM0IsQ0FBeEIsQ0FBVixDQUFkLENBTHFCLHlCQU1yQixNQUFPLENBQ0h0QixPQUFPLENBQUVTLElBQUksQ0FBQ1QsT0FEWCxDQUVINkIsS0FBSyxDQUFFbkMsR0FBRyxDQUFDZSxJQUFJLENBQUNvQixLQUFOLENBRlAsQ0FHSEMsT0FBTyxDQUFFckIsSUFBSSxDQUFDcUIsT0FIWCxDQUlIQyxNQUFNLENBQUVILFVBSkwsQ0FLSEksTUFBTSxDQUFFdkIsSUFBSSxDQUFDdUIsTUFMVixDQU1IWixjQUFjLENBQUVELFNBTmIsQ0FPSEksaUJBQWlCLENBQUVELFdBUGhCLENBUUhHLGFBQWEsQ0FBRUQsUUFSWixDQVNIRyxhQUFhLENBQUVELE9BVFosQ0FBUCxDQVdILENBdkRnQixDQUFILENBQWxCLEMseUJBMkRBTyxNQUFNLENBQUNDLE9BQVAsQ0FBaUJwQyxZQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHhzcyAgICAgICAgICAgPSByZXF1aXJlKCd4c3MnKTtcbmNvbnN0IHsgZm9ybWF0IH0gICAgPSByZXF1aXJlKCdkYXRlLWZucycpO1xuY29uc3QgeyBkYiB9ICAgICAgICA9IHJlcXVpcmUoJy4uL2RhdGFiYXNlL2Nvbm5lY3QnKTtcblxuY29uc3QgRmFjdHNTZXJ2aWNlID0ge1xuXG4gICAgZGVsZXRlRmFjdDogKGZhY3RfaWQpID0+IHtcbiAgICAgICAgcmV0dXJuIGRiXG4gICAgICAgICAgICAuZnJvbSgnZmFjdHMnKVxuICAgICAgICAgICAgLndoZXJlKCdmYWN0X2lkJywgZmFjdF9pZClcbiAgICAgICAgICAgIC5kZWxldGUoKVxuICAgIH0sXG5cbiAgICBnZXRBbGxGYWN0czogKCkgPT4ge1xuICAgICAgICByZXR1cm4gZGJcbiAgICAgICAgICAgIC5mcm9tKCdmYWN0cycpXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICB9LFxuXG4gICAgZ2V0RmFjdEJ5SWQ6IChmYWN0X2lkKSA9PiB7XG4gICAgICAgIHJldHVybiBkYlxuICAgICAgICAgICAgLmZyb20oJ2ZhY3RzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgLndoZXJlKCdmYWN0X2lkJywgZmFjdF9pZClcbiAgICAgICAgICAgIC5maXJzdCgpXG4gICAgfSxcblxuICAgIGluc2VydEZhY3Q6IChmYWN0KSA9PiB7XG4gICAgICAgIHJldHVybiBkYlxuICAgICAgICAgICAgLmluc2VydChmYWN0KVxuICAgICAgICAgICAgLmludG8oJ2ZhY3RzJylcbiAgICAgICAgICAgIC5yZXR1cm5pbmcoJyonKVxuICAgICAgICAgICAgLnRoZW4oKFtyZXR1cm5lZEZhY3RdKSA9PiByZXR1cm5lZEZhY3QpXG4gICAgfSxcblxuICAgIHVwZGF0ZUZhY3Q6IChmYWN0X2lkLCBmaWVsZHMpID0+IHtcbiAgICAgICAgcmV0dXJuIGRiXG4gICAgICAgICAgICAuZnJvbSgnZmFjdHMnKVxuICAgICAgICAgICAgLndoZXJlKCdmYWN0X2lkJywgZmFjdF9pZClcbiAgICAgICAgICAgIC51cGRhdGUoZmllbGRzKVxuICAgIH0sXG5cbiAgICBzZXJpYWxpemVGYWN0OiAoZmFjdCkgPT4ge1xuICAgICAgICBjb25zdCBzdWJtaXR0ZWQgPSBmYWN0LmRhdGVfc3VibWl0dGVkID8gZm9ybWF0KG5ldyBEYXRlKGZhY3QuZGF0ZV9zdWJtaXR0ZWQpLCAneXl5eS1NTS1kZCcpIDogbnVsbDtcbiAgICAgICAgY29uc3QgdW5kZXJSZXZpZXcgPSBmYWN0LmRhdGVfdW5kZXJfcmV2aWV3ID8gZm9ybWF0KG5ldyBEYXRlKGZhY3QuZGF0ZV91bmRlcl9yZXZpZXcpLCAneXl5eS1NTS1kZCcpIDogbnVsbDtcbiAgICAgICAgY29uc3QgYXBwcm92ZWQgPSBmYWN0LmRhdGVfYXBwcm92ZWQgPyBmb3JtYXQobmV3IERhdGUoZmFjdC5kYXRlX2FwcHJvdmVkKSwgJ3l5eXktTU0tZGQnKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IG5vdFRydWUgPSBmYWN0LmRhdGVfbm90X3RydWUgPyBmb3JtYXQobmV3IERhdGUoZmFjdC5kYXRlX25vdF90cnVlKSwgJ3l5eXktTU0tZGQnKSA6IG51bGw7XG4gICAgICAgIGxldCBmYWN0U3RhdHVzID0gbm90VHJ1ZSA/ICdOb3QgVHJ1ZScgOiBhcHByb3ZlZCA/ICdBcHByb3ZlZCcgOiB1bmRlclJldmlldyA/ICdVbmRlciBSZXZpZXcnIDogJ1BlbmRpbmcnO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmFjdF9pZDogZmFjdC5mYWN0X2lkLFxuICAgICAgICAgICAgdGl0bGU6IHhzcyhmYWN0LnRpdGxlKSxcbiAgICAgICAgICAgIHVzZXJfaWQ6IGZhY3QudXNlcl9pZCxcbiAgICAgICAgICAgIHN0YXR1czogZmFjdFN0YXR1cyxcbiAgICAgICAgICAgIHNlcmlhbDogZmFjdC5zZXJpYWwsXG4gICAgICAgICAgICBkYXRlX3N1Ym1pdHRlZDogc3VibWl0dGVkLFxuICAgICAgICAgICAgZGF0ZV91bmRlcl9yZXZpZXc6IHVuZGVyUmV2aWV3LFxuICAgICAgICAgICAgZGF0ZV9hcHByb3ZlZDogYXBwcm92ZWQsXG4gICAgICAgICAgICBkYXRlX25vdF90cnVlOiBub3RUcnVlXG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRmFjdHNTZXJ2aWNlO1xuIl19